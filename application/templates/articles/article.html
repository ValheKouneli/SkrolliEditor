{% extends "layout.html" %}
{% from "articles/progress_bar_macro.html" import progressbar %}

{% block body %}
<p>
{% if article.issue %}
<a class="btn btn-link btn-primary" href="{{ url_for('articles_in_issue', issue=article.issue) }}" role="button">Show all articles in {{ article.issue }}</a>
{% else %}
<a class="btn btn-link btn-primary" href="{{ url_for('articles_orphans') }}" role="button">Show all orphan articles</a>
{% endif %}
</p>

{% if article.ready %}
<div class="card border-success mb-3" style="width: 18rem;">
{% else %}
<div class="card border-danger mb-3" style="width: 18rem;">
{% endif %}
    <div class="card-header">
        {{ article.name }}
        {{ article.issue }}
    </div>
    <ul class="list-group list-group-flush" >
            <li class="list-group-item">
                Writer: {{ article.writer }} <br>
                {{ progressbar(article.writing_status) }}
            </li>
            <li class="list-group-item">
                Editor: {{ article.editor_in_charge }} <br>
                {{ progressbar(article.editing_status) }}
            </li>
    </ul>
    <div class="card-body">
        <p class="card-text">{{ synopsis }}</p>
        {% if current_user.editor %}
        <a class="btn btn-link btn-primary" href="{{ url_for('article_update', article_id=article.id) }}" role="button">Edit article info</a>
        {% endif %}
    </div>
</div>


{% endblock %}